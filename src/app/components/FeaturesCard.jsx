import React, { useRef } from "react";
import {
  motion,
  useMotionTemplate,
  useMotionValue,
  useSpring,
  
} from "framer-motion";

import { Variants } from "../utils/variants";
import "../styles/LinearOverlay.css";
export default function FeaturesCard({ icon }) {
  const ROTATION_RANGE = 32.5;
  const HALF_ROTATION_RANGE = 32.5 / 2;
  const ref = useRef(null);

  const x = useMotionValue(0);
  const y = useMotionValue(0);

  const xSpring = useSpring(x);
  const ySpring = useSpring(y);

  const transform = useMotionTemplate`rotateX(${xSpring}deg) rotateY(${ySpring}deg)`;

  const handleMouseMove = (e) => {
    if (!ref.current) return [0, 0];

    const rect = ref.current.getBoundingClientRect();

    const width = rect.width;
    const height = rect.height;

    const mouseX = (e.clientX - rect.left) * ROTATION_RANGE;
    const mouseY = (e.clientY - rect.top) * ROTATION_RANGE;

    const rX = (mouseY / height - HALF_ROTATION_RANGE) * -1;
    const rY = mouseX / width - HALF_ROTATION_RANGE;

    x.set(rX);
    y.set(rY);
  };

  const handleMouseLeave = () => {
    x.set(0);
    y.set(0);
  };

  return (
    <motion.div
      ref={ref}
      onMouseMove={handleMouseMove}
      onMouseLeave={handleMouseLeave}
      style={{
        transformStyle: "preserve-3d",
        transform,
      }}
      initial={{ "--x": "100%", scale: 1 }}
      animate={{ "--x": "-100%" }}
      whileTap={{ scale: 0.97 }}
      transition={{
        repeat: Infinity,
        repeatType: "loop",
        repeatDelay: 1,
        type: "spring",
        stiffness: 20,
        damping: 15,
        mass: 2,
        scale: {
          type: "spring",
          stiffness: 10,
          damping: 5,
          mass: 0.1,
        },
      }}
      className="relative overflow-hidden z-[1] mb-32 flex items-center border dark:border-black/20 border-white/5 justify-center h-[27rem] w-96 rounded-xl bg-gradient-to-br "
    >
      
      <div className="absolute bottom-0 left-0 w-10 h-10 dark:bg-black bg-white blur-3xl"></div>
      <div className="absolute bottom-0 right-10 blur-3xl w-10 h-full z-10  -rotate-45 dark:bg-black bg-white rounded-full"></div>
      <motion.svg
         animate="visible"
            initial="hidden"
            opacity={0.5}
            width="250"
            height="250"
            viewBox="0 0 144 350"
          >
            <motion.path
              className="stroke-white dark:stroke-black dark:fill-none"
              variants={Variants}

              opacity="1.000000"
              stroke="none"
              d="
M1.000000,339.000000 
	C1.000000,230.979111 1.000000,122.958206 1.370935,14.467100 
	C2.294416,13.698007 3.132205,13.538358 3.356332,13.079177 
	C6.292932,7.062815 11.925137,7.125081 16.868465,8.253694 
	C21.565546,9.326085 24.724310,12.911317 25.121056,18.513397 
	C25.425428,22.811150 26.887482,27.015806 27.657900,31.293703 
	C30.149555,45.129082 32.522427,58.985855 35.013527,72.821335 
	C36.844772,82.992027 38.802891,93.139816 40.680077,103.302307 
	C42.469601,112.990234 44.268120,122.676788 45.989071,132.377014 
	C48.135014,144.472763 50.176765,156.586960 52.316685,168.683792 
	C54.511475,181.090820 56.739914,193.492081 59.016308,205.884354 
	C59.929317,210.854614 61.009541,215.794174 62.196289,221.648666 
	C64.100090,219.585770 65.670006,218.405914 66.560188,216.839722 
	C75.765472,200.643768 84.827370,184.366425 93.998634,168.151016 
	C100.480171,156.691223 106.983658,145.242126 113.637871,133.882278 
	C118.373474,125.797836 121.500771,117.748955 121.252373,107.806305 
	C120.537323,79.185524 121.053040,50.535160 120.964066,21.896797 
	C120.940758,14.396912 120.120766,6.784101 127.464272,1.708178 
	C127.469963,1.704241 127.161644,1.246014 127.000000,0.999999 
	C130.692902,1.000000 134.385818,1.000000 138.541260,1.373564 
	C141.002548,3.498085 143.001266,5.249043 145.000000,7.000000 
	C145.000000,47.354229 145.000000,87.708458 144.621841,128.533447 
	C139.488525,137.084061 134.636078,145.108551 129.999969,153.256119 
	C122.130447,167.086166 114.435669,181.015518 106.597008,194.863266 
	C97.098640,211.643051 87.602921,228.425262 77.952477,245.117645 
	C73.688545,252.492996 69.210831,259.758301 64.515190,266.865479 
	C61.677059,271.161194 56.481941,271.091003 52.866879,269.573730 
	C49.630333,268.215302 46.095558,264.402832 45.271370,261.040863 
	C42.545963,249.923462 41.015434,238.514954 38.974228,227.227600 
	C35.666561,208.937073 32.347393,190.648499 28.957973,172.373016 
	C28.362854,169.164169 27.400101,166.023529 26.607130,162.851379 
	C26.162752,162.963287 25.718374,163.075195 25.273996,163.187103 
	C25.273996,216.042984 25.273996,268.898865 25.273996,321.999664 
	C35.185036,321.999664 44.825722,322.085632 54.460846,321.893372 
	C55.697144,321.868683 57.438267,320.685211 58.047344,319.554657 
	C73.447525,290.969727 88.726837,262.319641 104.028839,233.681763 
	C110.015747,222.477219 116.100952,211.323883 121.964630,200.055252 
	C126.532707,191.276474 137.956314,190.789124 142.776199,198.186615 
	C143.121124,198.715988 144.240646,198.740662 145.000000,199.000000 
	C145.000000,245.687561 145.000000,292.375122 144.672272,339.236511 
	C143.229691,341.606873 142.114838,343.803436 141.000000,346.000000 
	C136.643097,346.000000 132.286194,346.000000 127.462997,345.625854 
	C121.518806,340.487854 120.801476,334.326080 120.891823,327.443817 
	C121.182434,305.306915 121.000000,283.163788 121.000000,261.023071 
	C121.000000,259.355255 121.000000,257.687439 121.000000,256.019653 
	C118.786270,257.444733 117.694374,258.961182 116.824989,260.595947 
	C107.774071,277.615265 98.802834,294.677094 89.711212,311.674561 
	C86.299850,318.052338 82.670731,324.315155 79.068695,330.588928 
	C76.101097,335.757690 73.026939,340.865295 70.000000,346.000000 
	C49.312439,346.000000 28.624876,346.000000 7.467261,345.639404 
	C4.998138,343.185852 2.999069,341.092926 1.000000,339.000000 
z"
            />
            <motion.path
              fill="none"
              opacity="1.000000"
              stroke="none"
              d="
M126.531342,0.999999 
	C127.161644,1.246014 127.469963,1.704241 127.464272,1.708178 
	C120.120766,6.784101 120.940758,14.396912 120.964066,21.896797 
	C121.053040,50.535160 120.537323,79.185524 121.252373,107.806305 
	C121.500771,117.748955 118.373474,125.797836 113.637871,133.882278 
	C106.983658,145.242126 100.480171,156.691223 93.998634,168.151016 
	C84.827370,184.366425 75.765472,200.643768 66.560188,216.839722 
	C65.670006,218.405914 64.100090,219.585770 62.196289,221.648666 
	C61.009541,215.794174 59.929317,210.854614 59.016308,205.884354 
	C56.739914,193.492081 54.511475,181.090820 52.316685,168.683792 
	C50.176765,156.586960 48.135014,144.472763 45.989071,132.377014 
	C44.268120,122.676788 42.469601,112.990234 40.680077,103.302307 
	C38.802891,93.139816 36.844772,82.992027 35.013527,72.821335 
	C32.522427,58.985855 30.149555,45.129082 27.657900,31.293703 
	C26.887482,27.015806 25.425428,22.811150 25.121056,18.513397 
	C24.724310,12.911317 21.565546,9.326085 16.868465,8.253694 
	C11.925137,7.125081 6.292932,7.062815 3.356332,13.079177 
	C3.132205,13.538358 2.294416,13.698007 1.370935,13.998443 
	C1.000000,9.680349 1.000000,5.360698 1.000000,1.000000 
	C42.687553,1.000000 84.375114,1.000000 126.531342,0.999999 
z"
            />
            <motion.path
              fill="none"
              opacity="1.000000"
              stroke="none"
              d="
M145.000000,198.531342 
	C144.240646,198.740662 143.121124,198.715988 142.776199,198.186615 
	C137.956314,190.789124 126.532707,191.276474 121.964630,200.055252 
	C116.100952,211.323883 110.015747,222.477219 104.028839,233.681763 
	C88.726837,262.319641 73.447525,290.969727 58.047344,319.554657 
	C57.438267,320.685211 55.697144,321.868683 54.460846,321.893372 
	C44.825722,322.085632 35.185036,321.999664 25.273996,321.999664 
	C25.273996,268.898865 25.273996,216.042984 25.273996,163.187103 
	C25.718374,163.075195 26.162752,162.963287 26.607130,162.851379 
	C27.400101,166.023529 28.362854,169.164169 28.957973,172.373016 
	C32.347393,190.648499 35.666561,208.937073 38.974228,227.227600 
	C41.015434,238.514954 42.545963,249.923462 45.271370,261.040863 
	C46.095558,264.402832 49.630333,268.215302 52.866879,269.573730 
	C56.481941,271.091003 61.677059,271.161194 64.515190,266.865479 
	C69.210831,259.758301 73.688545,252.492996 77.952477,245.117645 
	C87.602921,228.425262 97.098640,211.643051 106.597008,194.863266 
	C114.435669,181.015518 122.130447,167.086166 129.999969,153.256119 
	C134.636078,145.108551 139.488525,137.084061 144.621841,129.002106 
	C145.000000,152.020889 145.000000,175.041794 145.000000,198.531342 
z"
            />
            <motion.path
              fill="none"
              opacity="1.000000"
              stroke="none"
              d="
M70.468658,346.000000 
	C73.026939,340.865295 76.101097,335.757690 79.068695,330.588928 
	C82.670731,324.315155 86.299850,318.052338 89.711212,311.674561 
	C98.802834,294.677094 107.774071,277.615265 116.824989,260.595947 
	C117.694374,258.961182 118.786270,257.444733 121.000000,256.019653 
	C121.000000,257.687439 121.000000,259.355255 121.000000,261.023071 
	C121.000000,283.163788 121.182434,305.306915 120.891823,327.443817 
	C120.801476,334.326080 121.518806,340.487854 126.998352,345.625854 
	C108.312439,346.000000 89.624878,346.000000 70.468658,346.000000 
z"
            />
            <motion.path
              fill="none"
              opacity="1.000000"
              stroke="none"
              d="
M1.000000,339.497925 
	C2.999069,341.092926 4.998138,343.185852 6.998604,345.639404 
	C5.079331,346.000000 3.158662,346.000000 1.000000,346.000000 
	C1.000000,344.001343 1.000000,341.998566 1.000000,339.497925 
z"
            />
            <motion.path
              fill="none"
              opacity="1.000000"
              stroke="none"
              d="
M145.000000,6.500529 
	C143.001266,5.249043 141.002548,3.498085 139.001907,1.373564 
	C140.913223,1.000000 142.826462,1.000000 145.000000,1.000000 
	C145.000000,2.663430 145.000000,4.332244 145.000000,6.500529 
z"
            />
            <motion.path
              fill="none"
              opacity="1.000000"
              stroke="none"
              d="
M141.500000,346.000000 
	C142.114838,343.803436 143.229691,341.606873 144.672272,339.705139 
	C143.768051,341.884033 147.963928,346.481964 141.500000,346.000000 
z"
            />
          </motion.svg>
      <span className="block absolute inset-0  rounded-xl p-px linear-overlay" />
    </motion.div>
  );
}
